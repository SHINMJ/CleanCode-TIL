# TIL 2022.05.03

## 오늘 읽은 범위

### **6장 객체와 자료구조**

## 기억하고 싶은 내용 & 생각

### 객체가 포함하는 자료를 표현할 가장 좋은 방법을 심각하게 고민해야 한다.

### 아무 생각 없이 조회/설정 함수를 추가하는 방법이 가장 나쁘다. <119p>

처음 개발을 시작했을 때는 절차지향적으로 개발을 했다.
회사에서 원하는 것도 그것이었다. 쿼리만 잘 짜면 되었었다. 그래서 아무 생각없이 get/set을 마구마구 추가했던 것 같다.
객체지향을 공부하고 객체지향으로 개발을 하면서 얼마나 안이했는지(혹은 멍청했는지...) 알게되었다.
객체의 관계를 설정하고 나면 자연적으로 추상화를 고려하게 된다. 퍼블릭 인터페이스로 서로 메세지를 주고 받고 구현은 숨기게 된다.
처음엔 어려웠지만 자꾸 해보니 자연적으로 된다. 해봐야 느는 것 같다.

### 때로는 단순한 자료구조와 절차적인 코드가 가장 적합한 상황도 있다. <122p>

맞는 소리이다. 무조건 객체지향으로 할 수는 없다.
잘 된 설계는 트레이드 오프의 산물이라고 했다. 가끔은 절차적인 코드가 더 나은 경우도 있다.

### 활성 레코드에 비즈니스 규칙 메서드를 추가해 이런 자료구조를 객체로 취급하는 개발자가 흔하다. <127p>

여기서 말하는 활성 레코드는, 스프링에서는 service인 듯 하다.
이전 회사에서 개발할 때 비즈니스 로직을 서비스단에서 처리하라고 했었다.
사실 거의 대부분 쿼리로 처리하고 그외에 필요한 비지니스 로직을 서비스에서 했었다.
전형적인 잡종구조라는 것을 지금은 알겠다.

### 객체는 동작을 공개하고 자료를 숨긴다. 자료구조는 별다른 동작없이 자료를 노출한다.<127p>

이번 장의 주제인 듯하다.
이전에 읽었던 오브젝트, 리팩토링에서 보았던 규칙들이 많이 보인다.
다들 클린 코드, 클린 아키텍처에 대해서 이야기 하고 있기 때문이다.

> 객체는 상태는 숨기고 행동만 외부에 공개하도록 한다. - 오브젝트(조영호)

### 우수한 소프트웨어 개발자는 편견없이 최적 해결책을 선택한다. <128p>

편견없이라는 말이 와닿는다.
객체지향이 나오면서 절차지향은 무조건 안되!! 라고 하는 개발자도 보았다.
나도 처음에 객체 지향을 공부했을 때는 그랬던 것 같다.
더 많이 공부하면서 그런게 아니라는 것을 깨달았다. 역시 아는 게 힘이다.
무조건 객체 지향만 따질게 아니라 전체적인 구조를 파악하여 트레이드 오프를 적절히 하는게 우수한 소프트웨어 개발자가 되는 길이다!!

## 오늘 읽은 소감

조금 어렵다.
이전에 다른 책들을 읽지 않았다면 잘 이해하지 못하고 그냥 그런가보다 하고 넘어갔을 내용이다.
이 또한 많은 프로젝트를 접해봐야 이해된다.
책에서만 보거나 블로그에서만 보는 것은 그때만 이해가 되고 잘 생각나지 않는다.
배운 것을 써먹어야 나중에 비슷한 글을 봤을 때 더 이해가 잘된다.
여러 프로젝트에 적용해 보아야 겠다!! 꾸준히 사이드 프로젝트도 해야지!!

## 궁금한 내용 or 잘 이해되지 않는 내용

### Visitor pattern

실제 로직을 가지고 있는 객체(Visitor)가 로직을 적용할 객체를 방문하면서 실행하는 패턴!!
즉, 로직과 구조를 분리하는 패턴이다.
로직과 구조를 분리하면 구조를 수정하지 않고도 새로운 동작을 기존 객체에 추가할 수 있다.

### 활성 레코드

오퍼레이션 : 객체가 다른 객체에게 제공하는 추상적인 서비스. 메시지 수신자의 관점을 다룬다.
이 정도로 이해된다..
